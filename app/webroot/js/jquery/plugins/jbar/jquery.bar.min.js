(function(b){b.fn.bar=function(c){var d=b.extend({},b.fn.bar.defaults,c);return this.each(function(){$this=b(this);var e=b.meta?b.extend({},d,$this.data()):d;$this.click(function(h){if(!b(".jbar").length){a=setTimeout("$.fn.bar.removebar()",e.time);var f=b(document.createElement("span")).addClass("jbar-content").html(e.message);f.css({color:e.color});var g;(e.position=="bottom")?g=b(document.createElement("div")).addClass("jbar jbar-bottom"):g=b(document.createElement("div")).addClass("jbar jbar-top");g.css({"background-color":e.background_color});if(e.removebutton){var i=b(document.createElement("a")).addClass("jbar-cross");i.click(function(j){b.fn.bar.removebar()})}else{g.css({cursor:"pointer"});g.click(function(j){b.fn.bar.removebar()})}g.append(f).append(i).hide().insertBefore(b(".content")).fadeIn("fast")}})})};var a;b.fn.bar.removebar=function(c){if(b(".jbar").length){clearTimeout(a);b(".jbar").fadeOut("fast",function(){b(this).remove()})}};b.fn.bar.defaults={background_color:"#FFFFFF",color:"#000",position:"top",removebutton:true,time:5000}})(jQuery);